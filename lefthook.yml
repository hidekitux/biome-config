# lefthook configuration file
# https://github.com/evilmartians/lefthook

# HOOKS
pre-commit:
  parallel: true
  commands:
    biome-check:
      run: bun run check --files-ignore-unknown=true --no-errors-on-unmatched --staged
      glob: "*.{js,jsx,ts,tsx,json,jsonc}"

commit-msg:
  commands:
    commitlint:
      run: bunx commitlint --edit {1}

pre-push:
  commands:
    biome-check:
      run: bun run check -- --error-on-warnings ./config

# Automatically fix versions to exact after merging
post-merge:
  commands:
    bun-install:
      run: bun install
      files: package.json
    syncpack-fix:
      run: bun run syncpack
      files: package.json